<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <title>311 Requests effciency</title>

  <<!-- Leaflet JS & CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.3/dist/leaflet.css"
  integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
  crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.3.3/dist/leaflet.js"
  integrity="sha512-tAGcCfR4Sc5ZP5ZoVz0quoZDYX5aCtEm/eu1KhSLj2c9eFrylXZknQYmxUssFaVJKvvc0dJQixhGjG2yXWiV9Q=="
  crossorigin=""></script>

  <!-- d3 JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.5.0/d3.js"></script>
  <!-- <script src="https://d3js.org/d3.v4.min.js"></script> -->
  

  <!-- Marker Cluster JS & CSS -->
  <script type="text/javascript" src="https://unpkg.com/leaflet.markercluster@1.0.3/dist/leaflet.markercluster.js"></script>
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.0.3/dist/MarkerCluster.css">
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.0.3/dist/MarkerCluster.Default.css">

  <!-- Our CSS -->
  <link rel="stylesheet" type="text/css" href="../static/css/style.css">

  <!-- Navbar-->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

  <!-- scriptaculous library for fade and show  -->
  <script src="static/js/scriptaculous-js-1.9.0/scriptaculous-js-1.9.0/src/prototype.js" type="text/javascript"></script>
  <script src="static/js/scriptaculous-js-1.9.0/scriptaculous-js-1.9.0/src/scriptaculous.js" type="text/javascript"></script>
</head>

<body>
  <!-- for jumbotron -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>


  <!-- navbar-->
  <nav class="navbar navbar-expand-sm bg-light navbar-light">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="index.html">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="plot2">Not working: Cool D3</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="plot3">Working: Pie Chart</a>
      </li>
      <li class="nav-item">
          <a class="nav-link" href="page3/Money_Choropleth.html">Choropleth</a>
        </li>
    </ul>
  </nav>

  <!-- jumbotron-->
  <div class="jumbotron jumbotron-fluid">
    <div class="container">
      <!--<h1 >Miami Dade</h1>      
      <p>Efifciency behind User's requests and Income</p>-->
    </div>
  </div>

  <!-- Landpage pharagrap-->
  <div class="container-fluid">
    <br>
    <div class="col-md-12">
      <h2 class="animatedText"> Miami-Dade 311..  Efficiency Begind The Agencies</h2>
      <br>
      <p class="text-center"> If you live in Miami... would you say that you County it's Efficient? And the effciency level it's related with the income? </p>
      <p class="text-center"> With the purpose of demonstrate the real efficency behind Miami-Dade 311-Requests, we extracted data directly from Miami-Dade County so in this website you'll find the answers.  </p>
    </div>      
    
  <!-- test new library scriptaculous -->  
  <div id="fade_demo" style="width:80px; height:80px; background:#c2defb; border:1px solid #333;"></div>
  <ul>
    <li><a href="#" onclick="$('fade_demo').fade(); new Effect.Appear('plot3'); return false;">Square: Fade & Appear</a></li>
    <li><a href="#" onclick="jQuery('fade_demo').fade(); return false;">Square: fade</a></li>
    <li><a href="#" onclick="$('fade_demo').show(); return false;">Map Working: Show (Reset)</a></li>
    <li><a href="#" onclick="$('map').fade(); return false;">Map Working: Fade</a></li>
    <li><a href="#" onclick="$('plot3').fade(); return false;">Test Fade</a></li>
    <li><a href="#" onclick="Effect.Grow('map'); return false;">Map Working: Grow</a></li>
    <li><a href="#" onclick="$('map').show(); return false;">Map Working: Show (Reset)</a></li>
  </ul>

  <div onclick="$('map').switchOff()">

  
    Click here if you've seen enough.
  </div>

  <!-- scriptaculouse-->
  <div class="wikistyle">
    <link rel="stylesheet" title="Sunburst" href="http://script.aculo.us/github/styles/sunburst.css">
    <script type="text/javascript" src="http://script.aculo.us/prototype.js"></script><script type="text/javascript" src="http://script.aculo.us/scriptaculous.js"></script><script type="text/javascript" src="http://script.aculo.us/builder.js"></script><script type="text/javascript" src="http://script.aculo.us/effects.js"></script><script type="text/javascript" src="http://script.aculo.us/dragdrop.js"></script><script type="text/javascript" src="http://script.aculo.us/controls.js"></script><script type="text/javascript" src="http://script.aculo.us/slider.js"></script><script type="text/javascript" src="http://script.aculo.us/sound.js"></script>
     </div>
    </div>


    <br>
  </div>

  
</div>

<!-- TODO: ask jonathan, the id inside col-md-6 it's not working-->
<div class="col-md-6"></div>
 
  <div id="map"></div>
  <script type="text/javascript" src="../static/js/config.js"></script>
    <!-- <script type="text/javascript" src="../static/js/logic.js"></script> -->
    <script src="{{ url_for('static', filename='js/logic.js') }}"></script>
  

  <!-- test-->
  <!DOCTYPE html>
<meta charset="utf-8">
<body>
  <div id="plot3">Cool plot</div>
<script src="//d3js.org/d3.v3.min.js"></script>
<script>

var width = 960,
    height = 500,
    outerRadius = Math.min(width, height) * .5 - 10,
    innerRadius = outerRadius * .6;

var n = 10,
    data0 = d3.range(n).map(Math.random), // insert data here
    data1 = d3.range(n).map(Math.random), // insert data here
    data;

var color = d3.scale.category20();

var arc = d3.svg.arc();

var pie = d3.layout.pie()
    .sort(null);

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

svg.selectAll(".arc")
    .data(arcs(data0, data1))
  .enter().append("g")
    .attr("class", "arc")
    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")")
  .append("path")
    .attr("fill", function(d, i) { return color(i); })
    .attr("d", arc);

transition(1);

function arcs(data0, data1) {
  var arcs0 = pie(data0),
      arcs1 = pie(data1),
      i = -1,
      arc;
  while (++i < n) {
    arc = arcs0[i];
    arc.innerRadius = innerRadius;
    arc.outerRadius = outerRadius;
    arc.next = arcs1[i];
  }
  return arcs0;
}

function transition(state) {
  var path = d3.selectAll(".arc > path")
      .data(state ? arcs(data0, data1) : arcs(data1, data0));

  // Wedges split into two rings.
  var t0 = path.transition()
      .duration(1000)
      .attrTween("d", tweenArc(function(d, i) {
        return {
          innerRadius: i & 1 ? innerRadius : (innerRadius + outerRadius) / 2,
          outerRadius: i & 1 ? (innerRadius + outerRadius) / 2 : outerRadius
        };
      }));

  // Wedges translate to be centered on their final position.
  var t1 = t0.transition()
      .attrTween("d", tweenArc(function(d, i) {
        var a0 = d.next.startAngle + d.next.endAngle,
            a1 = d.startAngle - d.endAngle;
        return {
          startAngle: (a0 + a1) / 2,
          endAngle: (a0 - a1) / 2
        };
      }));

  // Wedges then update their values, changing size.
  var t2 = t1.transition()
        .attrTween("d", tweenArc(function(d, i) {
          return {
            startAngle: d.next.startAngle,
            endAngle: d.next.endAngle
          };
        }));

  // Wedges reunite into a single ring.
  var t3 = t2.transition()
      .attrTween("d", tweenArc(function(d, i) {
        return {
          innerRadius: innerRadius,
          outerRadius: outerRadius
        };
      }));

  setTimeout(function() { transition(!state); }, 5000);
}

function tweenArc(b) {
  return function(a, i) {
    var d = b.call(this, a, i), i = d3.interpolate(a, d);
    for (var k in d) a[k] = d[k]; // update data
    return function(t) { return arc(i(t)); };
  };
}

</script>
</body>
</html>
